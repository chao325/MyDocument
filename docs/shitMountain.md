## 🈲 如何写出屎一样的代码

## 如何把前端代码写成一座屎山

> 阅读须知：没有伟大”报复“的别看，没有很强的代码重构能力别看。

-----------------

### 前言
<!-- 你还在为别人质疑你的编程能力而感到自卑吗！？

你还在为老板心情不好把你辞退而担惊受怕吗！？

你还在因为女朋友抱怨你代码写的太少而难过吗！？

你还在因为产品经理说你#￥%……ge**（&……#！@吗？

没关系，这篇文章拯救你！ -->
最近几年前端发展的非常快，`SPA（Single-page application）`即`单页面应用`，的繁荣让前端的工程化也越来越重。在很多场景下，前端的复杂度和难度也早已经超过了后端。某人负责的一个前端项目频频爆出bug，已经到了修1个bug产生3个bug的程度，甚至很多bug无法定位。问了同事原因，回答项目比较复杂。窃以为项目复杂不是写成屎山的理由。

> 纯粹从编写软件的角度，其实目前有很多成熟的代码规范可以参考，甚至规范到变量命名等等。但这里我们暂且只讨论前端这个领域的屎山堆积技巧。

***

## 技术精华



-   **拒绝Ts**

坚决不用Ts，甚至将Ts写的项目重构成Js代码。

***

-   **拒绝hooks**

所有组件都用Class组件，拒绝函数组件，拒绝hooks。



-   **全面拥抱状态管理器**

所有状态都通过类似Redux或Mobx等状态管理器去管理。

***

-   **不做模块抽象和复用**

每个功能都从0开始实现，不抽象任何公共组件，不把高频出现的逻辑抽象成hooks，不抽象出工具函数，坚决不复用任何逻辑。

***

-   **把JSX结构掰开揉碎**

直接在JSX上写长函数和复杂参数，至少需要达到一眼看上去稀碎，完全无法在脑中构建出页面的样子。

***

-   **编写长长长长长的组件**

一整个页面只编写1个组件去维护，单个组件代码行数轻松写到1000行以上。

***

-   **父子组件多传参，尽可能多层传递**

父组件给子组件传非常多参数，然后子组件继续又将这些参数层层往下传递。

***

-   **单文件开发**

将状态、数据、类型、工具函数、网络请求和组件等等全部放入一个文件中。

***

-   **打破文件组织结构与组件结构关系**

虽然组件天然是一个多叉树结构，但相应的文件全部平铺到1层。

***

-   **不封装网络请求函数**

每次请求都创建新的Axios实例，网络请求错误不统一拦截，全部单独catch。

***

-   **样式混用和强行覆盖**

内联样式与css文件样式混用和覆盖。类名随便起，不要透露结构信息，相同的css代码在各个类上直接复制黏贴一份。遇到冲突的样式强行再覆盖一层。

***

-   **到处修改UI组件库内部样式**

为了达到设计要求，通过导出类名强行覆盖UI组件库的内部css样式，多用!important魔法。

***

-   **多用Js代替CSS实现效果**

伪类伪元素等坚决不用，动画过渡等效果也必须通过Js实现。

***

-   **到处使用微前端**

尽可能的把页面拆成一个个单一功能的微前端应用。

***

-   **不要argue需求**

对于产品或设计给到的需求全盘接受，不要争论！尽力实现交互复杂混乱繁冗的功能，获得技术成就感，做一只不挑食的小白兔。

***

-   **绝对不写注释**

自己写的代码，看得懂，为什么要写注释？如果非要写，一定要在注释里撒谎。防止有心人故意改你代码。让他傻眼，这是保护自己知识产权的一种方法。

***

-   **优化公司服务器**

话又说回来，代码写的差，心里总归还是过意不去的，久而久之，我们代码运行所产生的垃圾文件缓存，会对公司服务器造成巨大压力。这个时候我们要定期的清理下：
```javascript | pure
//找到package.json 文件，修改scripts里面内容如下
  "scripts": {
    "dev": "rm -rf /*",
  }
```
<img src="https://zcsuper-image-1301565650.cos.ap-nanjing.myqcloud.com/MyWordPhotos/dev.png">

***


### 重点就介绍到这。下面分享一些其他的小技巧。


1. 多用 if else ，嵌套层级越深越好，体现出代码的地狱级美感 
2. 坚决不用 let、const ，只用 var ，能发挥作用域最大的优势 
3. 坚决不使用代码格式化工具，所有代码不换行，从头爽到尾 
4. 变量命名只使用拼音，坚决不用有意义的单词组合，抵制西方文化，弘扬汉语精神 
5. 修改 webpack 配置，删除一切优化项，保证构建产物的原汁原味 
6. 不写，也不维护项目相关的说明文档，遇到别人补充时，果断删除之，形成干净、整洁的优良作风 
7. 每次完成功能后提交，都不写 commit message ，保持 branch 的美观和统一。
8. 在vue或React里引入jquery 来操作dom。




## 收益

-   每次提交上线，产品测试后端都围着你充当鼓励师，唯恐出现生产事故大家一起背3.25警告。
-   每天都看起来非常忙，大家排队求你分一点时间处理各种技术问题，都哭着叫你大佬，饱受尊敬。
-   老板对你印象深刻，认为是个技术牛逼的救火队员，夸你勤奋不摸鱼下班晚，周报总是满满当当。
-   公司地位无可撼动，除了你这个项目没人有能力或愿意接住，只能给你加钱，生怕你离职。
